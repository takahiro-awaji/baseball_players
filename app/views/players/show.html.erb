<%= render 'shared/header' %>

<div class="container mt-3">

    <% if @team == current_team %>
    <div class="btn-group">
      <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="fas fa-pencil-alt fa-lg" style="color: darkblue"></span>
      </button>
      <div class="dropdown-menu">
        <%= link_to "編集", edit_team_player_path(@player.team_id), class: "dropdown-item" %>
        <%= link_to "削除", team_player_path(@player.team_id),class: "dropdown-item", method: :delete, data: {confirm: "本当に削除してもいいですか？"} %>
      </div>
    </div>
    <% end %>

  <div class="row">
  <%# 選手画像の表示 %>
    <div class="col-lg-3 col-sm-4 text-center">
    <% if @player.image.present? %>
      <%= image_tag(@player.image, class: "m-2", size: "150x150") if @player.image.attached? %>
    <% else %>
      <%= image_tag('logo.jpg', class: "m-2", size: "150x150") %>
    <% end %>
    </div>
  <%# //選手画像の表示 %>

  <%# 選手名、背番号、ポジション、投打 %>
    <div class="col-lg-7 col-sm-6 text-center">
      <h2><%= @player.number %></h2>
      <h3><%= @player.name %></h3>
        <div class="progress">
          <div class="progress-bar bg-dark" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      <%= @player.main_position.name %> ／ <%= @player.at_pitch %>／<%= @player.at_bat %>
    </div>
  <%# //選手名、背番号、ポジション、投打 %>
  </div>

  <div class="row">
  <%# レーダーチャート %>
    <div class="col-lg-4 col-sm-4">
    <canvas id="radar-chart-batter" width="200" height="100" class="m-2"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
    </div>
  <%# レーダーチャート %>
  
    <%# レーダーチャート %>
    <div class="col-lg-4 col-sm-4">
    <canvas id="radar-chart-pitcher" width="200" height="100" class="m-2"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
    </div>
  <%# レーダーチャート %>
  </div>

  <div class="row">
    <div class="col-sm-10">
      <table class="table table-bordered">
        <tr>
          <th scope="row">所属チーム</th>
          <td><%= @player.team.team_name %></td>
        </tr>
        <tr>
          <th scope="row">選手名</th>
          <td><%= @player.name %></td>
        </tr>
        <tr>
          <th scope="row">性別</th>
          <td><%= @player.sex %></td>
        </tr>
        <tr>
          <th scope="row">生年月日</th>
          <td><%= @player.birthday %></td>
        </tr>
        <tr>
          <th scope="row">メインポジション</th>
          <td id="main-position"><%= @player.main_position.name %></td>
        </tr>
        <tr>
          <th scope="row">背番号</th>
          <td><%= @player.number %></td>
        </tr>
        <tr>
          <th scope="row">投／打</th>
          <td><%= @player.at_pitch %> / <%= @player.at_bat %></td>
        </tr>
        <tr>
          <th scope="row">サブポジション</th>
          <td><%= @player.sub_position %></td>
        </tr>
        <tr>
          <th scope="row">選手の役職</th>
          <td><%= simple_format(@player.player_post) %></td>
        </tr>
        <tr>
          <th scope="row">スタッフの役職</th>
          <td><%= simple_format(@player.staff_post) %></td>
        </tr>
        <tr>
          <th scope="row">野球歴</th>
          <td><%= simple_format(@player.carrer) %></td>
        </tr>
        <tr>
          <th scope="row">自己紹介</th>
          <td><%= simple_format(@player.promotion) %></td>
        </tr>
      </table>
    </div>
  </div>

  <div class="row">
    <div class="col">
    <h3>個人成績</h3>
    </div>
  </div>
    
  <%= link_to "選手一覧へ戻る", team_players_path(@team) %>
  <%= link_to "チームページへ戻る", "/teams/#{@team.id}" %>
  <%= link_to "トップページへ戻る", root_path %>

</div>

<%= render 'shared/footer' %>